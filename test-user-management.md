# 用户管理功能测试指南

## 功能概述
已为SpideAdmin后台管理系统添加了完整的用户管理功能，包括：

### 🔧 核心功能
1. **用户列表管理** - 查看所有用户，支持分页
2. **新增用户** - 创建新的管理员或普通用户
3. **编辑用户** - 修改用户信息（用户名、邮箱、角色、状态）
4. **密码管理** - 单独的密码修改功能
5. **用户状态管理** - 启用/禁用用户
6. **删除用户** - 删除不需要的用户账户

### 🛡️ 安全特性
- 密码强度验证（至少6位）
- 密码确认验证
- 防止删除默认管理员账户
- 防止禁用默认管理员账户
- 用户名唯一性检查

## 测试步骤

### 1. 启动服务
```bash
cd backend
mvn spring-boot:run
```

### 2. 访问管理后台
- 访问：http://localhost:8080/spideAdmin/login
- 默认账户：admin / 111111

### 3. 测试用户管理功能

#### 3.1 查看用户列表
- 点击导航栏"用户管理"
- 验证显示用户列表
- 检查分页功能（如果用户数量超过20个）

#### 3.2 新增用户
- 点击"新增用户"按钮
- 填写表单：
  - 用户名：testuser
  - 密码：123456
  - 邮箱：test@example.com
  - 角色：普通用户
- 提交表单，验证创建成功

#### 3.3 编辑用户
- 在用户列表中点击"编辑"按钮
- 修改用户信息
- 验证保存成功

#### 3.4 修改密码
- 点击"改密"按钮
- 输入新密码：newpass123
- 确认密码：newpass123
- 验证密码修改成功

#### 3.5 启用/禁用用户
- 点击"禁用"按钮
- 验证用户状态变为禁用
- 再次点击"启用"按钮
- 验证用户状态变为启用

#### 3.6 删除用户
- 点击"删除"按钮
- 确认删除操作
- 验证用户被删除

### 4. 验证安全限制
- 尝试删除admin用户（应该被阻止）
- 尝试禁用admin用户（应该被阻止）
- 尝试创建重复用户名（应该报错）
- 尝试使用过短密码（应该报错）

## 页面路径
- 用户列表：`/spideAdmin/users`
- 新增用户：`/spideAdmin/users/new`
- 编辑用户：`/spideAdmin/users/{id}/edit`
- 修改密码：`/spideAdmin/users/{id}/change-password`

## 数据库表结构
用户数据存储在`users`表中，包含以下字段：
- id：主键
- username：用户名（唯一）
- password：加密密码
- email：邮箱
- role：角色（ADMIN/USER）
- enabled：是否启用
- created_at：创建时间
- last_login：最后登录时间

## 权限说明
- 只有管理员可以访问用户管理功能
- 默认admin账户受保护，不能被删除或禁用
- 新创建的用户默认为启用状态

## 注意事项
1. 密码修改后，目标用户需要使用新密码重新登录
2. 禁用用户后，该用户将无法登录系统
3. 删除用户操作不可恢复，请谨慎操作
4. 建议定期更换管理员密码以确保安全 